<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="This tool can be use put filter in image. " />
<meta name="keywords" content="online image editor, online image cropper, free image editor, crop image, convert image to base64, convert base64 to image, put filter on image" />     
  <!-- Font Awesome -->
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
<!-- Bootstrap core CSS -->
<link href="css/bootstrap.min.css" rel="stylesheet">
<!-- Material Design Bootstrap -->
<!-- <link href="css/mdb.min.css" rel="stylesheet"> -->
	<link rel="stylesheet" href="css/cropper.css" />
	<link rel="stylesheet" href="css/style.css">
	<link rel="stylesheet" href="css/tsongcss.css">
       <link type="text/css" href="https://uicdn.toast.com/tui-color-picker/v2.2.3/tui-color-picker.css" rel="stylesheet">
        <link type="text/css" href="css/tui-image-editor/tui-image-editor.css" rel="stylesheet">	  
	<title>Utilityfreetool - Free Online Utility Free Tool for you.</title>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  outline: none;
}

.filter-name {
  background: #795548;
  padding: 2px;
  display: inline-block;
  color: white;
  width: 100px;
  border-radius: 3px;
  text-align: center;
}

.filter-group {
  display: inline-block;
  margin: 5px 15px;
}

body {
  text-align: center;
  font-family: "Lato";
}

h1 {
  margin: 10px 0 0 0;
  font-size: 2em;
}

#canvas {
  max-height: 300px;
  width: auto;
  background-color: #ffffff;
  cursor: default;
}

.filter-buttons button,
.editor-buttons button {
  margin: 4px;
  background: black;
  border: none;
  color: white;
  font-family: "Lato";
  padding: 8px 12px;
  border-radius: 4px;
  font-size: 1em;
}

.filter-buttons button.disabled {
  background: #aaa;
}

.filter-buttons button {
  padding: 2px 10px;
  margin: 0;
  cursor: pointer;
  background: #ff5722;
}

.editor-buttons #reset-btn {
  background: #f44336;
}

.editor-buttons #download-btn {
  background: #009688;
}

.editor-buttons button:hover {
  background: #795548;
  cursor: pointer;
}

.editor-buttons {
  display: inline-block;
  margin-top: 10px;
}

[type="file"] {
  display: none;
}

[type="file"] + label {
  margin: 10px 4px;
  background: #673ab7;
  border: none;
  color: white;
  cursor: pointer;
  font-family: "Lato";
  padding: 8px 12px;
  border-radius: 4px;
  display: inline-block;
}

[type="file"] + label:hover {
  background: #3399ff;
}
  
  ._e_font{
    font-family: "Roboto", cursive;
    font-size: 10px;
  }
  ._footer_font{
    font-family: "Roboto", cursive;
  }
  .eff{
    white-space: nowrap;
    overflow-x: scroll;
  }
  .eff li{
    display: inline-block !important;
    margin: 8px;
    overflow: scroll;
  }
.nav-tabs {
  white-space: nowrap;
  display:block!important;
  flex-wrap: nowrap;
  max-width: 100%;
  overflow-x: scroll;
  overflow-y: hidden; 
  }
.nav-tabs>li {
  display: inline-block;
    }  
  #main_c{
    display: none;
  }
.nav-tabs .nav-item.show .nav-link, .nav-tabs .nav-link.active {
    color: #495057 !important;
    background-color: #fff !important;
/*    border-color: #dee2e6 #dee2e6 #fff;*/
}  
</style>	
</head>

<body>
	<nav  class="navbar navbar-expand-lg navbar-dark">
		<div class="container">
      <a href="index.html" class="navbar-brand text-dark _font" title="chopimg"><span class="text-danger"><i class="fas fa-tools"></i> UtilityFreeTool</span></a>
				  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapseImgTools"
					aria-controls="basicExampleNav" aria-expanded="false" aria-label="Toggle navigation">
					<i class="fas fa-bars text-dark"></i>
				  </button>		
		</div>
	</nav>
<div class="upfile">
  
<div class="jumbotron">
<input type="file" id="upload-file" placeholder="Upload a Picture" />
  <label for="upload-file" >Upload Picture to Apply Filter</label>    
  </div>
  
	  <div class="container mt-3">
	  	<h2 class="m-3 _font_h">How To Edit Picture??</h2>
		  <ul class="text-left">
		  	<li class="_font_p">Click on The File Button to load the image into Canvas.</li>
			 <li class="_font_p">On the bottom of the Editor there are filters to put filter Image.</li>
			  <li class="_font_p">Click on the Download Button to download the image.</li>
		  </ul>
		  <h2 class="m-3 _font_h">Demo Filters</h2>
          <div class="row">
            <div class="col-md-3">
              <img src="img/filter_demo/vintage_a.jpg">
            </div>
            <div class="col-md-3">
              <img src="img/filter_demo/sincity_a.jpg">
            </div>
            <div class="col-md-3">
              <img src="img/filter_demo/grungy_a.jpg">
            </div>
            <div class="col-md-3">
              <img src="img/filter_demo/nostalgia_a.jpg">
            </div>
        </div>
		  <h2 class="text-center m-3 _font_h">Why Use This Editor??</h2>
		  <div class="row">
		  	<div class="col-md-4">
				<h4 class="bg-danger p-2 text-white _font_h">We Understand your Safety..</h4>
				<p class="_font_p">One of the best reason is we don't want you to sign up or register. We understand the situation. So don't feel scared to use it. We don't even save the images.</p>
			  </div>
		  	<div class="col-md-4">
				<h4 class="bg-danger p-2 text-white _font_h">It's simple and reliable..</h4>
				<p class="_font_p">This Editor provides and easy solutions to put filter in your picture. The given Image Filter Tools are simple to use and don't need rocket science mind to put filter on pictures.</p>
			  </div>
		  	<div class="col-md-4">
				<h4 class="bg-danger p-2 text-white _font_h">It's Online Editor</h4>
				<p class="_font_p">You don't have to download software to do basic editing. Use any device to Edit Image using this website from anywhere. Since it is online the website can be updated with new features.</p>
			  </div>
		  </div>
	  </div>
</div>  
  
<div id="main_c">  
<nav class="mb-3">
    <div class="t-grid">
      
    <div class="t-grid-6">
        <a id="back" class="t-text-left btn btn-danger text-white">x</a>
    </div>
    <div class="t-grid-6">
      <a id="download-btn" class="t-text-right btn btn-success text-white">Save</a>
    </div>
    
    </div>
</nav>
  <div style="position: relative; overflow: auto">
  <div class="preview-wrapper">
    <canvas id="canvas"></canvas>
  </div>

<div id="footer_sec">
<!--
    <input type="file" id="upload-file" placeholder="Upload a Picture" />
  <label for="upload-file">Upload a Picture</label>
-->
<!--  <button class="btn btn-danger" id="download-btn">Download Image</button>-->
<divclass="effect container">
  <ul class="eff">
    <li id="_vintage_c" style="overflow: hidden;">
      <img src="img/filter/vintage-filter.jpg" style="height:50px !important; border-radius: 10px !important;" id="_vintage"><br>
      <span class="_e_font">Vintage</span>
    </li>
    <li id="_xerox_c" style="overflow: hidden;"><img src="img/filter/xerox-filter.jpg" style="height:50px !important; border-radius: 10px !important;" id="_xerox"><br><span class="_e_font">Xerox</span></li>
    <li id="_old_photo_c" style="overflow: hidden;"><img src="img/filter/pencil-filter.jpg" style="height:50px !important; border-radius: 10px !important;" id="_old_photo"><br><span class="_e_font">Pencil Art</span></li>
    <li id="_noise_c" style="overflow: hidden;"><img src="img/filter/noise-filter.jpg" style="height:50px !important; border-radius: 10px !important;" id="_noise"><br><span class="_e_font">Noise</span></li>
  </ul>
</div>

<div id="adjust" class="effect container" style="display:none">

<div class="tab-content" id="myTabContent">
  <div class="tab-pane fade show active" id="tbright" role="tabpanel" aria-labelledby="bright-tab">

<input class="custom-range" id="rbright" name="rbright" type="range" min="1" max="20" value="5">
  </div>
  <div class="tab-pane fade" id="tcontrast" role="tabpanel" aria-labelledby="contrast-tab">
 
<input type="range" id="contrast" name="contrast" class="custom-range" id="customRange1" min="-20" max="20" value="0">
  </div>
  <div class="tab-pane fade" id="tsaturation" role="tabpanel" aria-labelledby="saturation-tab">

<input type="range" id="saturation" name="saturation" class="custom-range" id="customRange1" min="-10" max="10" value="1">
  </div>
  
  
  <div class="tab-pane fade" id="tvibrance" role="tabpanel" aria-labelledby="vibrance-tab">

<input class="custom-range" id="vibrance" name="vibrance" type="range" min="1" max="20" value="5">
  </div>
  <div class="tab-pane fade" id="texposure" role="tabpanel" aria-labelledby="exposure-tab">
 
<input type="range" id="exposure" name="exposure" class="custom-range" id="customRange1" min="1" max="20" value="5">
  </div>
  <div class="tab-pane fade" id="tnoise" role="tabpanel" aria-labelledby="noise-tab">

<input type="range" id="noise" name="noise" class="custom-range" id="customRange1" min="0" max="100" value="0">
  </div>
  
    <div class="tab-pane fade " id="tsharpen" role="tabpanel" aria-labelledby="sharpen-tab" >

<input class="custom-range" id="sharpen" name="sharpen" type="range" min="1" max="100" value="1">
  </div>
  <div class="tab-pane fade" id="tsepia" role="tabpanel" aria-labelledby="sepia-tab">
 
<input type="range" id="sepia" name="sepia" class="custom-range" id="customRange1" min="1" max="100" value="1">
  </div>
  <div class="tab-pane fade" id="thue" role="tabpanel" aria-labelledby="hue-tab" >

<input type="range" id="hue" name="hue" class="custom-range" id="customRange1" min="0" max="100" value="0">
  </div>
  
      <div class="tab-pane fade " id="tstackblur" role="tabpanel" aria-labelledby="stackblur-tab">

<input class="custom-range" id="stackblur" name="stackblur" type="range" min="1" max="20" value="1">
  </div>
  <div class="tab-pane fade" id="tgamma" role="tabpanel" aria-labelledby="gamma-tab">
 
<input type="range" id="gamma" name="gamma" class="custom-range" id="customRange1" min="0" max="10" value="0">
  </div>
  <div class="tab-pane fade" id="tclip" role="tabpanel" aria-labelledby="clip-tab">

<input type="range" id="clip" name="clip" class="custom-range" id="customRange1" min="1" max="100" value="1">
  </div>
</div>
  
 <ul class="nav nav-tabs" id="myTab" role="tablist">
  <li class="nav-item">
    <a class="nav-link active" id="bright-tab" data-toggle="tab" href="#tbright" role="tab" aria-controls="bright"
      aria-selected="true">Brightness</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="contrast-tab" data-toggle="tab" href="#tcontrast" role="tab" aria-controls="contrast"
      aria-selected="false">Contrast</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="saturation-tab" data-toggle="tab" href="#tsaturation" role="tab" aria-controls="saturation"
      aria-selected="false">Saturation</a>
  </li> 
  <li class="nav-item">
    <a class="nav-link " id="vibrance-tab" data-toggle="tab" href="#tvibrance" role="tab" aria-controls="vibrance"
      aria-selected="false">Vibrance</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="exposure-tab" data-toggle="tab" href="#texposure" role="tab" aria-controls="exposure"
      aria-selected="false">Exposure</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="noise-tab" data-toggle="tab" href="#tnoise" role="tab" aria-controls="noise"
      aria-selected="false">Noise</a>
  </li>
  <li class="nav-item">
    <a class="nav-link " id="sharpen-tab" data-toggle="tab" href="#tsharpen" role="tab" aria-controls="sharpen"
      aria-selected="false">Sharpen</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="sepia-tab" data-toggle="tab" href="#tsepia" role="tab" aria-controls="sepia"
      aria-selected="false">Sepia</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="hue-tab" data-toggle="tab" href="#thue" role="tab" aria-controls="hue"
      aria-selected="false">Hue</a>
  </li> 
  <li class="nav-item">
    <a class="nav-link " id="stackblur-tab" data-toggle="tab" href="#tstackblur" role="tab" aria-controls="stackblur"
      aria-selected="false">Stack Blur</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="gamma-tab" data-toggle="tab" href="#tgamma" role="tab" aria-controls="gamma"
      aria-selected="false">Gamma</a>
  </li>
</ul> 
</div>    
  </div>
  </div>
</div>  
<footer class="page-footer bg-dark text-white p-3 mt-3">
  <div class="container">
    <div class="row">
      <div class="col-md-4">
        <h4 class="_font_h">Quick Links</h4>
          <div class="text-left">
      <a href="rectangle.html" class="text-white _font_p" title="Crop Image">Crop Image</a><br>
      <a href="base64Encode.html" class="text-white _font_p" title="Convert Image">Convert Image</a><br>
      <a href="filter.html" class="text-white _font_p" title="Image Filters">Image Filters</a>
        </div>
      </div>
      <div class="col-md-4">
        <h4 class="_font_h">About</h4>
        <p class="_font_p">UtilityFreeTool is an online Free tool where you can use this tools to make your task easier. 
      There are various tools where you can speed your task without wasting your time.
    </p>
      </div>
      <div class="col-md-4">
        <h4 class="_font_h">Contact</h4>
        <a class="_font_p">iamdemigod123@gmail.com</a>
      </div>
    </div>
  </div>
  <div class="container text-center">
    Design and Developed by<b style="color:#1dd4d7 ;"> SynergicWebSolutions</b> 
  </div>
</footer>     
<script type="text/javascript" src="js/jquery.min.js"></script>
<!-- Bootstrap tooltips -->
<script type="text/javascript" src="js/popper.min.js"></script>
<!-- Bootstrap core JavaScript -->
<script type="text/javascript" src="js/bootstrap.min.js"></script>
<!-- MDB core JavaScript -->
<script type="text/javascript" src="js/mdb.min.js"></script>  
  <script type="text/javascript" src="js/caman_working.js"></script>
  <script>
  
  $("#back").on("click", function(){
      $("#main_c").hide();
    $(".upfile").show();
    $(".footer").show();
    window.location.reload();
  });
  </script>
  <script>
  
var img = new Image();
img.crossOrigin = '';
var canvas = document.getElementById("canvas");
var fsec = document.getElementById("footer_sec").scrollHeight;
var ctx = canvas.getContext("2d");
var imgname;    
    var fileName;
    var _d_image;

  $(document).ready(function(){

  
$('input[type=range]').change(applyFilters);

function applyFilters() {
  var hue = parseInt($('#hue').val());
  var cntrst = parseInt($('#contrast').val());
	var bright = parseInt($('#rbright').val());
	var saturation = parseInt($('#saturation').val());
	var vibrance = parseInt($('#vibrance').val());
	var exposure = parseInt($('#exposure').val());
	var noise = parseInt($('#noise').val());
	var sharpen = parseInt($('#sharpen').val());
	var sepia = parseInt($('#sepia').val());
	var stackblur = parseInt($('#stackblur').val());
	var gamma = parseInt($('#gamma').val());
	var clip = parseInt($('#clip').val());
  Caman('#canvas', img, function() {
      this.revert(false);
      this.brightness(bright);
      this.contrast(cntrst);
      this.saturation(saturation);
      this.vibrance(vibrance);
      this.exposure(exposure);
      this.noise(noise);
      this.sharpen(sharpen);
      this.sepia(sepia);
      this.hue(hue);
      this.stackBlur(stackblur);
      //this.gamma(gamma);
     // this.clip(clip);
      this.render();
    });
}    
  
    //Click
    
    
  $("#_vintage_c").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.vintage().render();
    });
  });

  $("#_lomo_c").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.lomo().render();
    });
  });

  $("#_xerox_c").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.sinCity().render();
      this.sinCity().render();
      this.sinCity().render();
    });
  });

  $("#_old_photo_c").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.sunrise().render();
      this.pinhole().render();
    });
  });
  $("#_noise_c").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.noise(50);
      this.render();
    });
  });


  $("#_clarity_c").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.clarity().render();
    });
  });

  $("#_sincity_c").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.sinCity().render();
    });
  });

  $("#_cross_c").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.crossProcess().render();
    });
  });

  $("#_orange_c").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.orangePeel().render();
    });
  });
  
  $("#_love_c").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.love().render();
    });
  });

  $("#_grungy_c").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.grungy().render();
    });
  });
  
  
  $("#_jarques_c").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.jarques().render();
    });
  });

  $("#_pinhole_c").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.pinhole().render();
    });
  });

  $("#_oldboot_c").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.oldBoot().render();
    });
  });

  $("#_hazy_c").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.hazyDays().render();
    });
  });

  $("#_hermajesty_c").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.herMajesty().render();
    });
  });

  $("#_nostalgia_c").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.nostalgia().render();
    });
  });

  $("#_hemingway_c").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.hemingway().render();
    });
  });

  $("#_sunrise_c").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.sunrise().render();
    });
  });
  $("#_glowing_c").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.glowingSun().render();
    });
  });

  $("#_concentrate_c").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.concentrate().render();
    });
  });

  
  
  $("#download-btn").on("click", function(e) {
    
      var actualName = fileName.substr(0, fileName.lastIndexOf("."));

    downloadImg(canvas, actualName + "-filter.jpg");
  });

  $("#upload-file").on("change", function() {
    
    
    $("#main_c").show();
    $(".upfile").hide();
    $(".footer").hide();
    
    var file = document.querySelector("#upload-file").files[0];
    imgname = file.name;
    var reader = new FileReader();

    if (file) {
      fileName = file.name;
      reader.readAsDataURL(file);
    }

    
    reader.onload =  function(e) {
      
        img = new Image();
        img.setAttribute('crossOrigin', 'anonymous');
        img.src = reader.result;
        img.onload = function() {
          
			  var w = screen.width;
				if(img.width > img.height){
					document.getElementById("canvas").style.maxWidth = w + "px";
				}          
                    max_size = 1000,// TODO : pull max size from a site config
                    width = img.width,
                    height = img.height;
						if (width > height) {
							if (width > max_size) {
								height *= max_size / width;
								width = max_size;
							}
						} else {
							if (height > max_size) {
								width *= max_size / height;
								height = max_size;
							}
						}		
                canvas.width = width;
                canvas.height = height;
				ctx.drawImage(img, 0, 0, width , height);       
        
          $("#canvas").removeAttr("data-caman-id");
        };
      
      
      };
function b64toBlob(b64Data, contentType, sliceSize) {
        contentType = contentType || '';
        sliceSize = sliceSize || 512;

        var byteCharacters = atob(b64Data);
        var byteArrays = [];

        for (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {
            var slice = byteCharacters.slice(offset, offset + sliceSize);

            var byteNumbers = new Array(slice.length);
            for (var i = 0; i < slice.length; i++) {
                byteNumbers[i] = slice.charCodeAt(i);
            }

            var byteArray = new Uint8Array(byteNumbers);

            byteArrays.push(byteArray);
        }

      var blob = new Blob(byteArrays, {type: contentType});
      return blob;
} 

   // console.log(imgname);
//document.addEventListener("deviceready", function(){

	
window.downloadImg =function(canvas, filename){  
  _d_image = canvas.toDataURL("image/jpeg");
var myBase64 = _d_image;
var block = myBase64.split(";");
var contentType = block[0].split(":")[1];// In this case "image/png"
var realData = block[1].split(",")[1];// In this case "iVBORw0KGg...."

var filename = filename;
    
  let e;
  // Create link
  const link = document.createElement("a");

  // Set props
  link.download = filename;
  link.href = canvas.toDataURL("image/jpeg");
  // New mouse event
  e = new MouseEvent("click");
  // Dispatch event
  link.dispatchEvent(e);
    };    
  });
});



  </script>
  <script>
  
    
  </script>
  <script>
    
    function getEffect(item){
      var i;
      var x = document.getElementsByClassName("effect");
      for (i = 0; i < x.length; i++) {
        x[i].style.display = "none";  
      }
      document.getElementById(item).style.display = "block";       
    }
  
  </script>
  <script>
$('#myTab a').on('click', function (e) {
e.preventDefault()
$(this).tab('show')
})  
  
  </script>
</body>

</html>
